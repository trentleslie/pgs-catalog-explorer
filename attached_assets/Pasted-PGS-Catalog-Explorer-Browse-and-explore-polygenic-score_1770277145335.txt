PGS Catalog Explorer

Browse and explore polygenic scores, traits, and publications from the PGS Catalog

Checking PGS Catalog for updates...

streamlit.runtime.caching.cache_errors.CacheReplayClosureError: While running get_enriched_scores_cached(), a streamlit element is called on some layout block created outside the function. This is incompatible with replaying the cached effect of that element, because the referenced block might not exist when the replay happens.

How to fix this:

Move the creation of $THING inside get_enriched_scores_cached().
Move the call to the streamlit element outside of get_enriched_scores_cached().
Remove the @st.cache_data decorator from get_enriched_scores_cached().
Traceback:
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 129, in exec_func_with_error_handling
    result = func()
             ^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 689, in code_to_exec
    exec(code, module.__dict__)  # noqa: S102
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/app.py", line 964, in <module>
    main()
File "/home/runner/workspace/app.py", line 142, in main
    scores_df, eval_summary_df = load_data_with_smart_cache()
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/app.py", line 120, in load_data_with_smart_cache
    scores_df, eval_summary_df, load_timestamp = get_enriched_scores_cached()
                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/streamlit/runtime/caching/cache_utils.py", line 281, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/streamlit/runtime/caching/cache_utils.py", line 306, in _get_or_create_cached_value
    return self._handle_cache_hit(cached_result)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/streamlit/runtime/caching/cache_utils.py", line 332, in _handle_cache_hit
    replay_cached_messages(
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/streamlit/runtime/caching/cached_message_replay.py", line 290, in replay_cached_messages
    raise CacheReplayClosureError(cache_type, cached_func) from ex